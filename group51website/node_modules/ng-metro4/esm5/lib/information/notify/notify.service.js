import { __assign, __decorate, __metadata } from "tslib";
import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';
var NotifyService = /** @class */ (function () {
    function NotifyService() {
    }
    /**
     * Setup the notify system
     * @param options The options for the setup
     */
    NotifyService.prototype.setup = function (options) {
        window.Metro.notify.setup(options);
    };
    /**
     * Reset the settings of the notify system
     */
    NotifyService.prototype.reset = function () {
        window.Metro.notify.reset();
    };
    /**
     * Create a notify
     * @param message The message
     * @param title The title
     * @param options Optional options object
     */
    NotifyService.prototype.create = function (message, title, options) {
        var closeSubject$ = new Subject();
        window.Metro.notify.create(message, title, __assign({ onClose: function () {
                closeSubject$.next();
                closeSubject$.complete();
            } }, options));
        return closeSubject$.asObservable();
    };
    NotifyService = __decorate([
        Injectable(),
        __metadata("design:paramtypes", [])
    ], NotifyService);
    return NotifyService;
}());
export { NotifyService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZy1tZXRybzQvIiwic291cmNlcyI6WyJsaWIvaW5mb3JtYXRpb24vbm90aWZ5L25vdGlmeS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBYSxPQUFPLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFtQnpDO0lBRUU7SUFBZ0IsQ0FBQztJQUVqQjs7O09BR0c7SUFDSSw2QkFBSyxHQUFaLFVBQWEsT0FBMkI7UUFDaEMsTUFBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRDs7T0FFRztJQUNJLDZCQUFLLEdBQVo7UUFDUSxNQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSw4QkFBTSxHQUFiLFVBQWMsT0FBZSxFQUFFLEtBQWMsRUFBRSxPQUF1QjtRQUNwRSxJQUFNLGFBQWEsR0FBRyxJQUFJLE9BQU8sRUFBTyxDQUFDO1FBRW5DLE1BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxhQUM5QyxPQUFPLEVBQUU7Z0JBQ1AsYUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNyQixhQUFhLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDM0IsQ0FBQyxJQUNFLE9BQU8sRUFDVixDQUFDO1FBRUgsT0FBTyxhQUFhLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEMsQ0FBQztJQXJDVSxhQUFhO1FBRHpCLFVBQVUsRUFBRTs7T0FDQSxhQUFhLENBc0N6QjtJQUFELG9CQUFDO0NBQUEsQUF0Q0QsSUFzQ0M7U0F0Q1ksYUFBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtPYnNlcnZhYmxlLCBTdWJqZWN0fSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHtFYXNpbmdUeXBlfSBmcm9tICcuLi8uLi9oZWxwZXIvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOb3RpZnlTZXR1cE9wdGlvbnMge1xyXG4gIGNvbnRhaW5lcj86IHN0cmluZztcclxuICB3aWR0aD86IHN0cmluZztcclxuICB0aW1lb3V0PzogbnVtYmVyO1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyO1xyXG4gIGRpc3RhbmNlPzogc3RyaW5nO1xyXG4gIGFuaW1hdGlvbj86IEVhc2luZ1R5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZ5T3B0aW9ucyB7XHJcbiAga2VlcE9wZW4/OiBib29sZWFuO1xyXG4gIGNscz86IHN0cmluZztcclxuICB3aWR0aD86IHN0cmluZztcclxufVxyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgTm90aWZ5U2VydmljZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHRoZSBub3RpZnkgc3lzdGVtXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIG9wdGlvbnMgZm9yIHRoZSBzZXR1cFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXR1cChvcHRpb25zOiBOb3RpZnlTZXR1cE9wdGlvbnMpIHtcclxuICAgICg8YW55PndpbmRvdykuTWV0cm8ubm90aWZ5LnNldHVwKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHNldHRpbmdzIG9mIHRoZSBub3RpZnkgc3lzdGVtXHJcbiAgICovXHJcbiAgcHVibGljIHJlc2V0KCkge1xyXG4gICAgKDxhbnk+d2luZG93KS5NZXRyby5ub3RpZnkucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5vdGlmeVxyXG4gICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlXHJcbiAgICogQHBhcmFtIHRpdGxlIFRoZSB0aXRsZVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0XHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZShtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nLCBvcHRpb25zPzogTm90aWZ5T3B0aW9ucyk6IE9ic2VydmFibGU8dm9pZD4ge1xyXG4gICAgY29uc3QgY2xvc2VTdWJqZWN0JCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcclxuXHJcbiAgICAoPGFueT53aW5kb3cpLk1ldHJvLm5vdGlmeS5jcmVhdGUobWVzc2FnZSwgdGl0bGUsIHtcclxuICAgICAgb25DbG9zZTogKCkgPT4ge1xyXG4gICAgICAgIGNsb3NlU3ViamVjdCQubmV4dCgpO1xyXG4gICAgICAgIGNsb3NlU3ViamVjdCQuY29tcGxldGUoKTtcclxuICAgICAgfSxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNsb3NlU3ViamVjdCQuYXNPYnNlcnZhYmxlKCk7XHJcbiAgfVxyXG59XHJcbiJdfQ==