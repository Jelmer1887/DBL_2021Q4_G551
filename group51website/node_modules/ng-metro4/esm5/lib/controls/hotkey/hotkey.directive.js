import { __decorate, __metadata } from "tslib";
import { Directive, EventEmitter, Input, Output } from '@angular/core';
var HotkeyDirective = /** @class */ (function () {
    function HotkeyDirective() {
        this.hotkeyClick = new EventEmitter();
    }
    HotkeyDirective.prototype.createElement = function () {
        var _this = this;
        this.unregister();
        this.previousKey = this.hotkey;
        $('body').hotkey(this.hotkey, function () {
            _this.hotkeyClick.emit();
        });
    };
    HotkeyDirective.prototype.ngOnInit = function () {
        this.createElement();
    };
    HotkeyDirective.prototype.ngOnChanges = function (changes) {
        this.createElement();
    };
    HotkeyDirective.prototype.unregister = function () {
        if (this.previousKey) {
            $('body').off('keyup', null, { ns: 'hotkey-method-' + this.previousKey });
        }
    };
    HotkeyDirective.prototype.ngOnDestroy = function () {
        this.unregister();
    };
    __decorate([
        Input('m4-hotkey'),
        __metadata("design:type", String)
    ], HotkeyDirective.prototype, "hotkey", void 0);
    __decorate([
        Output(),
        __metadata("design:type", Object)
    ], HotkeyDirective.prototype, "hotkeyClick", void 0);
    HotkeyDirective = __decorate([
        Directive({
            selector: '[m4-hotkey]'
        }),
        __metadata("design:paramtypes", [])
    ], HotkeyDirective);
    return HotkeyDirective;
}());
export { HotkeyDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG90a2V5LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLW1ldHJvNC8iLCJzb3VyY2VzIjpbImxpYi9jb250cm9scy9ob3RrZXkvaG90a2V5LmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFnQyxNQUFNLEVBQWdCLE1BQU0sZUFBZSxDQUFDO0FBT2xIO0lBTUU7UUFKVSxnQkFBVyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7SUFJNUIsQ0FBQztJQUVSLHVDQUFhLEdBQXJCO1FBQUEsaUJBT0M7UUFOQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRS9CLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUM1QixLQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGtDQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELHFDQUFXLEdBQVgsVUFBWSxPQUFzQjtRQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVPLG9DQUFVLEdBQWxCO1FBQ0UsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3BCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFDLEVBQUUsRUFBRSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztTQUN6RTtJQUNILENBQUM7SUFFRCxxQ0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFoQ21CO1FBQW5CLEtBQUssQ0FBQyxXQUFXLENBQUM7O21EQUFnQjtJQUN6QjtRQUFULE1BQU0sRUFBRTs7d0RBQWtDO0lBRmhDLGVBQWU7UUFIM0IsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGFBQWE7U0FDeEIsQ0FBQzs7T0FDVyxlQUFlLENBa0MzQjtJQUFELHNCQUFDO0NBQUEsQUFsQ0QsSUFrQ0M7U0FsQ1ksZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQsIFNpbXBsZUNoYW5nZXN9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuZGVjbGFyZSB2YXIgJDogYW55O1xyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgc2VsZWN0b3I6ICdbbTQtaG90a2V5XSdcclxufSlcclxuZXhwb3J0IGNsYXNzIEhvdGtleURpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG4gIEBJbnB1dCgnbTQtaG90a2V5JykgaG90a2V5OiBzdHJpbmc7XHJcbiAgQE91dHB1dCgpIGhvdGtleUNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICBwcml2YXRlIHByZXZpb3VzS2V5OiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50KCkge1xyXG4gICAgdGhpcy51bnJlZ2lzdGVyKCk7XHJcbiAgICB0aGlzLnByZXZpb3VzS2V5ID0gdGhpcy5ob3RrZXk7XHJcblxyXG4gICAgJCgnYm9keScpLmhvdGtleSh0aGlzLmhvdGtleSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhvdGtleUNsaWNrLmVtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIHRoaXMuY3JlYXRlRWxlbWVudCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyKCkge1xyXG4gICAgaWYgKHRoaXMucHJldmlvdXNLZXkpIHtcclxuICAgICAgJCgnYm9keScpLm9mZigna2V5dXAnLCBudWxsLCB7bnM6ICdob3RrZXktbWV0aG9kLScgKyB0aGlzLnByZXZpb3VzS2V5fSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMudW5yZWdpc3RlcigpO1xyXG4gIH1cclxufVxyXG4iXX0=